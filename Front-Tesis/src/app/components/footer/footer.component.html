<!-- footer.component.html -->

<!-- Footer Principal -->
<footer class="footer">

  <div class="container">
    <!-- FAQ Modal/Section (se muestra solo cuando showFAQ es true) -->
    @if (showFAQ) {
      <div class="faq-modal-overlay" (click)="hideFAQ()" (keydown)="onKeyDown($event)" tabindex="0">>
        <div class="faq-modal" (click)="$event.stopPropagation()">
          <div class="faq-header">
            <h2 class="faq-title">Preguntas Frecuentes</h2>
            <button class="faq-close-btn" (click)="hideFAQ()">
              <i class="bi bi-x"></i>
            </button>
          </div>
          
          <div class="faq-content">
            <p class="faq-subtitle">
              Encuentra respuestas a las preguntas m√°s comunes sobre nuestros productos y servicios
            </p>
            
            <div class="faq-list">
              @for (faq of faqItems; track faq.id) {
                <div class="faq-item" [class.active]="faq.isOpen">
                  <button class="faq-question" (click)="toggleFAQ(faq.id)">
                    <span>{{ faq.question }}</span>
                    <span class="faq-icon" [class.rotated]="faq.isOpen">+</span>
                  </button>
                  
                  @if (faq.isOpen) {
                    <div class="faq-answer">
                      <p>{{ faq.answer }}</p>
                    </div>
                  }
                </div>
              }
            </div>
          </div>
        </div>
      </div>
    }

    <!-- Footer Content -->
    <div class="footer-content">
      <!-- Company Info -->
      <div class="footer-column">
        <h3 class="footer-title">TIENDA</h3>
        <p class="footer-description">
          Tu tienda de confianza para las mejores prendas de vestir. 
          Calidad, estilo y tendencia en un solo lugar.
        </p>
        <div class="social-icons">
          <a href="{{facebookUrl}}" class="social-icon" title="Facebook"><i class="fab fa-facebook-f"></i></a>
          <a href="{{instagramUrl}}" class="social-icon" title="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="{{whatsappUrl}}" class="social-icon" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="footer-column">
        <h3 class="footer-title">Enlaces R√°pidos</h3>
        <ul class="footer-links">
          <li><a routerLink="/store">Inicio</a></li>
          <li><a routerLink="/products">Productos</a></li>
          <li><a href="#ofertas">Ofertas</a></li>
          <li><a routerLink="/profile">Mi Cuenta</a></li>
          <li><a routerLink="/orders/new">Carrito</a></li>
        </ul>
      </div>

      <!-- Customer Service -->
      <div class="footer-column">
        <h3 class="footer-title">Atenci√≥n al Cliente</h3>
        <ul class="footer-links">
          <li><a href="#" (click)="showFAQModal(); $event.preventDefault()">Preguntas Frecuentes</a></li>
          <li><a href="#" (click)="showDevolutionPolicy(); $event.preventDefault()">Pol√≠tica de Devoluciones</a></li>
          <li><a href="#" (click)="showSizeGuide(); $event.preventDefault()">Gu√≠a de Talles</a></li>
          <li><a href="#" (click)="showPaymentMethods(); $event.preventDefault()">M√©todos de Pago</a></li>
          <li><a href="#" (click)="showContactInfo(); $event.preventDefault()">Contacto</a></li>
          <li><a href="#" (click)="showTermsAndConditions(); $event.preventDefault()">T√©rminos y Condiciones</a></li>
        </ul>
      </div>

      <!-- Contact Info -->
      <div class="footer-column">
        <h3 class="footer-title">Contacto</h3>
        <div class="contact-info">
          <div class="contact-item">
            <span class="contact-icon">üìç</span>
            <span>{{ direccionTienda }}</span>
          </div>
          <div class="contact-item">
            <span class="contact-icon">üìû</span>
            <span>{{ telefonoTienda }}</span>
          </div>
          <div class="contact-item">
            <span class="contact-icon">‚úâÔ∏è</span>
            <span>{{ emailTienda }}</span>
          </div>
          <div class="contact-item">
            <span class="contact-icon">üïí</span>
            <span>{{ horarioAtencion }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Newsletter Section -->
    <div class="newsletter-section">
      <h3 class="newsletter-title">üìß Suscr√≠bete a nuestro Newsletter</h3>
      <p class="newsletter-description">
        Recibe las √∫ltimas novedades, ofertas exclusivas y tips de moda directamente en tu correo
      </p>
      <div class="newsletter-form">
        <input
          type="email"
          [(ngModel)]="email"
          placeholder="tu.email@ejemplo.com"
          class="newsletter-input"
          (keypress)="onNewsletterKeyPress($event)"
        />
        <button 
          class="newsletter-btn" 
          (click)="subscribeNewsletter()"
          [disabled]="!email"
        >
          Suscribirse
        </button>
      </div>
    </div>

    <!-- Copyright -->
    <div class="footer-bottom">
      <div class="copyright">
        <span> ¬© {{ currentYear }} BELLATECH Todos los derechos reservados.</span>
      </div>
      <div class="footer-legal">
        <a (click)="showPrivacyPolicy()">Pol√≠tica de Privacidad</a>
      </div>
    </div>
  </div>
</footer>