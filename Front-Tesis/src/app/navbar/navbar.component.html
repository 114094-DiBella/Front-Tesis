<!-- Top bar -->
<div class="top-bar">
  <div class="top-bar-text">Envíos a todo el país • Atención por WhatsApp</div>
  <div class="top-bar-right">
    <a class="top-bar-link" routerLink="/terminos">Términos</a>
    <a class="top-bar-link" routerLink="/privacidad">Privacidad</a>
  </div>
</div>

<!-- Main header -->
<header class="modern-header">
  <div class="header-container">
    <div class="main-nav">
      <!-- Left links -->
      <ul class="nav-left">
        <li><a class="nav-link" routerLink="/store" routerLinkActive="active">Inicio</a></li>
        <li><a class="nav-link" routerLink="/products" routerLinkActive="active">Productos</a></li>
        
        @if(isLoggedIn && isAdmin) {
          <li class="dropdown">
            <a class="nav-link dropdown-toggle" (click)="toggleAdminMenu()">
              Administración
              <!-- <i class="bi bi-chevron-down" [class.rotated]="isAdminMenuOpen"></i> -->
            </a>
            <ul class="dropdown-menu" [class.show]="isAdminMenuOpen">
              <li><a class="dropdown-item" routerLink="/users" routerLinkActive="active">Usuarios</a></li>
              <li><a class="dropdown-item" routerLink="/orders" routerLinkActive="active">Pedidos</a></li>
              <li><a class="dropdown-item" routerLink="/products/new" routerLinkActive="active">Alta Productos</a></li>
              <li><a class="dropdown-item" routerLink="/reports" routerLinkActive="active">Reportes</a></li>
              <li><a class="dropdown-item" routerLink="/categorias" routerLinkActive="active">Categorías</a></li>
              <li><a class="dropdown-item" routerLink="/marcas" routerLinkActive="active">Marcas</a></li>
            </ul>
          </li>
        }
      </ul>

      <!-- Center logo -->
      <a class="brand-logo logo-center" routerLink="/store">WOMEN BAY</a>

      <!-- Right icons -->
      <div class="nav-right">
        <div class="nav-icon">
          <a class="icon-link" routerLink="/search">
            <i class="fas fa-search"></i>
          </a>
        </div>

        <div class="nav-icon">
          <a class="icon-link" (click)="goToProfile()" style="cursor:pointer;">
            <i class="bi bi-person-fill"></i>
            @if (isLoggedIn && userName) {
              <span class="user-badge">{{ userName }}</span>
            }
          </a>
        </div>

        <div class="nav-icon">
          <a class="icon-link" (click)="goToCart()" style="cursor:pointer;">
            <i class="bi bi-cart-fill"></i>
            @if (cartItemCount > 0) {
              <span class="cart-badge">{{ cartItemCount }}</span>
            }
          </a>
        </div>

        @if (isLoggedIn) {
          <div class="nav-icon">
            <a class="icon-link" (click)="logout()" title="Cerrar sesión" style="cursor:pointer;">
              <i class="bi bi-box-arrow-right"></i>
            </a>
          </div>
        }
      </div>
    </div>
  </div>
</header>